import{_ as r}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as d,e as o,a as p,f as e,r as c,o as h,d as i,b as s}from"./app-BxuMPliY.js";const u={};function g(b,a){const t=c("Tabs");return h(),d("div",null,[a[4]||(a[4]=o('<p><strong>Cadoor是什么?</strong></p><p>Cadoor是什么我这里就不说了，有需要的应该知道是什么，不知道的可以看看<a href="https://casdoor.org/zh/docs/overview" target="_blank" rel="noopener noreferrer">Cadoor官网</a></p><p>不多废话了我们直接开始编译</p><br><h2 id="编译cadoor前准备工作" tabindex="-1"><a class="header-anchor" href="#编译cadoor前准备工作"><span><strong>编译Cadoor前准备工作</strong></span></a></h2><p>开发Cadoor需要使用 <code>Go &gt; 1.17+</code>，<code>Node.js ≥ 14&amp;16</code>，<code>Yarn 1.x</code> 版本</p><p>官网推荐使用 <a href="https://classic.yarnpkg.com/en/docs/install" target="_blank" rel="noopener noreferrer">Yarn 1.x</a> 运行 &amp; Casdoor 前端，使用 NPM可能会导致UI 风格问题。 更多详细信息见： <a href="https://github.com/casdoor/casdoor/issues/294" target="_blank" rel="noopener noreferrer">Casdoor#294</a></p><p>然后我们将开源代码下载下来，或者使用 <a href="https://git-scm.com/download/win" target="_blank" rel="noopener noreferrer">Git Bash</a> clone到本地</p><div class="language-git line-numbers-mode" data-highlighter="shiki" data-ext="git" data-title="git" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>git clone https://github.com/casdoor/casdoor</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>然后我们打开开发工具，我这里使用的开发工具是 <strong>VS Code <sup>(Visual_Studio_Code)</sup></strong> ，如果你使用 <strong>GoLand<sup>(JetBrains)</sup></strong> 也可以</p><br><p>我们根据<code>Cadoor</code>的<a href="https://casdoor.org/zh/docs/basic/server-installation#%E7%94%9F%E4%BA%A7%E6%A8%A1%E5%BC%8F" target="_blank" rel="noopener noreferrer">文档</a>来使用</p><p>我们这里是将<code>Cadoor</code>接入到其他应用属于是生产环境吧，如果使用开发环境会缺少前端静态资源然后<code>404错误</code></p><p>下面先构建一下<code>后端</code>，我们再构建一下<code>前端</code></p>',14)),p(t,{id:"38",data:[{id:"Windows"},{id:"Linux"}],"tab-id":"build"},{title0:e(({value:n,isActive:l})=>a[0]||(a[0]=[i("Windows")])),title1:e(({value:n,isActive:l})=>a[1]||(a[1]=[i("Linux")])),tab0:e(({value:n,isActive:l})=>a[2]||(a[2]=[s("div",{class:"language- line-numbers-mode","data-highlighter":"shiki","data-ext":"","data-title":"",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[s("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",null,"go build")]),i(`
`),s("span",{class:"line"},[s("span",null,"casdoor.exe")])])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1)])),tab1:e(({value:n,isActive:l})=>a[3]||(a[3]=[s("div",{class:"language- line-numbers-mode","data-highlighter":"shiki","data-ext":"","data-title":"",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[s("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[s("code",null,[s("span",{class:"line"},[s("span",null,"go build")]),i(`
`),s("span",{class:"line"},[s("span",null,"./casdoor")])])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1)])),_:1}),a[5]||(a[5]=o(`<p>后端构建好了 我们来构建一下前端吧</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#先进入前端文件夹</span></span>
<span class="line highlighted"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">cd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> web</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#安装\`package.json\`里面我们所需要的包依赖</span></span>
<span class="line highlighted"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">yarn</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#构建前端</span></span>
<span class="line highlighted"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">yarn</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> build</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>yarn install</code>安装我们所需要的依赖的时候有点儿慢，文件太多 我第一次构建这个包等待了30多分钟</p><p>所有的都下载完后有 <strong><code>130,752</code></strong> 个文件， <strong><code>13,201</code></strong> 个文件夹，文件大小 <strong>1GB</strong> ，所以构建的时间比较久</p><ul><li>Q：可能会有人好奇先构建后端，前端的文件会打包进去吗？</li><li>A：没问题的，我们把 <code> web/build/*</code> 这个文件夹带走就行,当然如果要带走的话还要我们的 <code>/conf/*</code>配置文件 <ul><li><code>conf</code>配置文件里面是一些我们要启动<code>casdoor</code>前的一些配置，例如数据库使用哪种,端口号 名字等具体的可以自己打开看看</li></ul></li></ul><br><p><mark>到这里你已经可以去使用<code>Casdoor</code>啦，下面是<code>Casdoor</code>的配置文件如果你知道如何修改可以不用看，如果不知道可以看看</mark></p><hr><h2 id="casdoor配置文件" tabindex="-1"><a class="header-anchor" href="#casdoor配置文件"><span><strong>casdoor配置文件</strong></span></a></h2><div class="language-conf line-numbers-mode has-collapsed-lines collapsed" data-highlighter="shiki" data-ext="conf" data-title="conf" style="--vp-collapsed-lines:15;--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>appname = casdoor</span></span>
<span class="line"><span>httpport = 8000</span></span>
<span class="line"><span>runmode = dev</span></span>
<span class="line"><span>copyrequestbody = true</span></span>
<span class="line"><span>driverName = mysql</span></span>
<span class="line"><span>dataSourceName = root:123123@tcp(localhost:3306)/</span></span>
<span class="line"><span>dbName = casdoor</span></span>
<span class="line"><span>tableNamePrefix =</span></span>
<span class="line"><span>showSql = false</span></span>
<span class="line"><span>redisEndpoint =</span></span>
<span class="line"><span>defaultStorageProvider = </span></span>
<span class="line"><span>isCloudIntranet = false</span></span>
<span class="line"><span>authState = &quot;casdoor&quot;</span></span>
<span class="line"><span>socks5Proxy = &quot;127.0.0.1:10808&quot;</span></span>
<span class="line"><span>verificationCodeTimeout = 10</span></span>
<span class="line"><span>initScore = 2000</span></span>
<span class="line"><span>logPostOnly = true</span></span>
<span class="line"><span>origin =</span></span>
<span class="line"><span>staticBaseUrl = &quot;https://cdn.casbin.org&quot;</span></span>
<span class="line"><span>isDemoMode = false</span></span>
<span class="line"><span>batchSize = 100</span></span>
<span class="line"><span>ldapServerPort = 389</span></span>
<span class="line"><span>quota = {&quot;organization&quot;: -1, &quot;user&quot;: -1, &quot;application&quot;: -1, &quot;provider&quot;: -1}</span></span>
<span class="line"><span>logConfig = {&quot;filename&quot;: &quot;logs/casdoor.log&quot;, &quot;maxdays&quot;:99999, &quot;perm&quot;:&quot;0770&quot;}</span></span>
<span class="line"><span>initDataFile = &quot;./init_data.json&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="collapsed-lines"></div></div><p>配置文件所有参数的作用我这里细说了,下面我只说一下如何配置数据库和<code>8000端口</code>是做什么的吧<a href="https://casdoor.org/zh/docs/basic/server-installation#%E9%80%9A%E8%BF%87-ini-%E6%96%87%E4%BB%B6%E9%85%8D%E7%BD%AE" target="_blank" rel="noopener noreferrer">详情查看Casdoor官网</a></p><p>casdoor默认使用的是<strong>MySQL</strong>数据库，如果你也是使用<strong>MySQL</strong>可以按照以下格式填写,应该看得懂什么意思 实在不懂可以评论区问问</p><div class="language-conf line-numbers-mode" data-highlighter="shiki" data-ext="conf" data-title="conf" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>	......</span></span>
<span class="line highlighted"><span>driverName = mysql</span></span>
<span class="line highlighted"><span>dataSourceName = root:123123@tcp(localhost:3306)/</span></span>
<span class="line highlighted"><span>dbName = casdoor</span></span>
<span class="line"><span>	......</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>如果你要使用<strong>Sqlite3</strong>，可以改成如下配置</p><div class="language-conf line-numbers-mode" data-highlighter="shiki" data-ext="conf" data-title="conf" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>	......</span></span>
<span class="line highlighted"><span>driverName = sqlite</span></span>
<span class="line highlighted"><span>dataSourceName = &quot;file:casdoor.db?cache=shared&quot;</span></span>
<span class="line highlighted"><span>dbName = casdoor</span></span>
<span class="line"><span>	......</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>还有更多的数据库用法，有需要的可以前往<a href="https://casdoor.org/zh/docs/basic/server-installation#%E6%95%B0%E6%8D%AE%E5%BA%93" target="_blank" rel="noopener noreferrer">Casdoor官网</a>看看</p><br><div class="language-conf line-numbers-mode" data-highlighter="shiki" data-ext="conf" data-title="conf" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>appname = casdoor</span></span>
<span class="line highlighted"><span>httpport = 8000</span></span>
<span class="line"><span>runmode = dev</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>8000端口</code>是后端应用程序正在监听的端口，也是你要接入的时候需要填写的</p><p>例如我们接入<code>AList</code>在单点登录选项,<code>SSO端点名称</code>就是我们要写的 http(s)://192.168.31.1:8000，写进AList单点登录配置的选项里面</p><ul><li>注:如果8000端口号和你的冲突你可以随便改</li><li>如果你嫌弃有端口号不方便，你可以将<code>8000</code>端口号进行反向代理，像AList那样反向代理把端口号去掉</li></ul><br><p>那里不清楚大家可以留言 会回复的。</p>`,23))])}const k=r(u,[["render",g],["__file","build.html.vue"]]),f=JSON.parse('{"path":"/index/build/sso/build.html","title":"编译Cadoor使用","lang":"zh-CN","frontmatter":{"title":"编译Cadoor使用","icon":"fa-solid fa-chalkboard-user","order":121,"author":"安稳","date":"2023-01-01T00:00:00.000Z","category":["使用指南"],"tag":["自己编译","编译Cadoor教程","Build","Cadoor"],"sticky":true,"star":true,"headerDepth":6,"collapsible":false,"description":"Cadoor是什么? Cadoor是什么我这里就不说了，有需要的应该知道是什么，不知道的可以看看Cadoor官网 不多废话了我们直接开始编译 编译Cadoor前准备工作 开发Cadoor需要使用 Go > 1.17+，Node.js ≥ 14&16，Yarn 1.x 版本 官网推荐使用 Yarn 1.x 运行 & Casdoor 前端，使用 NPM可能...","gitInclude":[],"head":[["meta",{"property":"og:url","content":"https://anwen-anyi/anwen-anyi.github.io/index/build/sso/build.html"}],["meta",{"property":"og:site_name","content":"安安稳稳"}],["meta",{"property":"og:title","content":"编译Cadoor使用"}],["meta",{"property":"og:description","content":"Cadoor是什么? Cadoor是什么我这里就不说了，有需要的应该知道是什么，不知道的可以看看Cadoor官网 不多废话了我们直接开始编译 编译Cadoor前准备工作 开发Cadoor需要使用 Go > 1.17+，Node.js ≥ 14&16，Yarn 1.x 版本 官网推荐使用 Yarn 1.x 运行 & Casdoor 前端，使用 NPM可能..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"article:author","content":"安稳"}],["meta",{"property":"article:tag","content":"自己编译"}],["meta",{"property":"article:tag","content":"编译Cadoor教程"}],["meta",{"property":"article:tag","content":"Build"}],["meta",{"property":"article:tag","content":"Cadoor"}],["meta",{"property":"article:published_time","content":"2023-01-01T00:00:00.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"编译Cadoor使用\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2023-01-01T00:00:00.000Z\\",\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"安稳\\"}]}"]]},"headers":[{"level":2,"title":"编译Cadoor前准备工作","slug":"编译cadoor前准备工作","link":"#编译cadoor前准备工作","children":[]},{"level":2,"title":"casdoor配置文件","slug":"casdoor配置文件","link":"#casdoor配置文件","children":[]}],"readingTime":{"minutes":3.89,"words":1168},"filePathRelative":"index/build/sso/build.md","localizedDate":"2023年1月1日","autoDesc":true,"excerpt":"<!-- 你可以通过设置页面的 Frontmatter，在页面禁用功能与布局。 -->\\n"}');export{k as comp,f as data};
